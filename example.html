<!DOCTYPE html>
<html lang="en">
    <head>
        <title>mDataGrid (Just a pure JavaScript Data Table)</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="css/example.css" type="text/css" />
    </head>
    <body>
        <div id="divToolBar">
            <form>
                <fieldset>
                   <span>
                        <select id="selCircles">
                            <option value="NULL">Select A Circle</option>
                            <option value="friends">Friends</option>
                            <option value="family">Family</option>
                        </select>
                    </span>
                    |
                    <span>
                        <input type="button" id="btnLoadGrid" name="btnLoadGrid" value="Load Grid" />
                    </span>
                </fieldset>
            </form>
        </div>
        <div id="divDataGrid">
            <fieldset>
                <legend>Output</legend>
                <div id="divDataTable" style="margin: 10px; width: 100%;"></div>
            </fieldset>
        </div>
        <script type="text/javascript" src="js/libs/mDataGrid.js"></script>
        <script>
        // Set Refrence To Utilized DOM Elements
        var elCircles = document.getElementById('selCircles');
        var elLoadButton = document.getElementById('btnLoadGrid');
        var elDataTable = document.getElementById('divDataTable');
  
        oData = {
            "description": "Circles JSON Schema",
            "type": "object",
            "properties":
                    {
                        "friends": [
                            [
                                "jon_1",
                                "doe_1",
                                {
                                    "id": "1",
                                    "name": "1",
                                    "style": "",
                                    "value": "friends::1",
                                    "checked": true
                                }
                            ],
                            [
                                "jon_2",
                                "doe_2",
                                {
                                    "id": "2",
                                    "name": "2",
                                    "style": "",
                                    "value": "friends::2",
                                    "checked": true
                                }
                            ],
                            [
                                "jon_3",
                                "doe_3",
                                {
                                    "id": "3",
                                    "name": "3",
                                    "style": "",
                                    "value": "friends::3",
                                    "checked": true
                                }
                            ],
                            [
                                "jon_4",
                                "doe_4",
                                {
                                    "id": "4",
                                    "name": "4",
                                    "style": "",
                                    "value": "friends::4",
                                    "checked": true
                                }
                            ]
                        ],
                        "family": [
                            [
                                "jon_5",
                                "doe_5",
                                {
                                    "id": "5",
                                    "name": "1",
                                    "style": "",
                                    "value": "family::1",
                                    "checked": false
                                }
                            ],
                            [
                                "jon_6",
                                "doe_6",
                                {
                                    "id": "6",
                                    "name": "2",
                                    "style": "",
                                    "value": "family::2",
                                    "checked": false
                                }
                            ],
                            [
                                "jon_7",
                                "doe_7",
                                {
                                    "id": "7",
                                    "name": "3",
                                    "style": "",
                                    "value": "family::3",
                                    "checked": false
                                }
                            ],
                            [
                                "jon_8",
                                "doe_8",
                                {
                                    "id": "8",
                                    "name": "4",
                                    "style": "",
                                    "value": "family::4",
                                    "checked": false
                                }
                            ]
                        ]
                    }
        };
  
        function loadData() {
            var oDataGrid = new mDataGrid();
            var strCirclesValue = elCircles.options[elCircles.selectedIndex].value;

            // Enable Debugging
            oDataGrid.enableDebug();

            // MultiSelect Options
            var oOptMultiSelect = {
                colTitle: "Select",
                className: "selectinput"
            };

            //oJSTDataTble.enableInput("checkbox", "Select");
            oDataGrid.multiSelectEnabled(oOptMultiSelect);

            // Set Table Attributes
            oDataGrid.setId("data");
            oDataGrid.setName("data");
            oDataGrid.setClassName("datatable");

            // Add Data Grid Header Items
            oDataGrid.addHeadItem("First Name");
            oDataGrid.addHeadItem("Last Name");

            // Create Table Body Rows
            for (var kRow in oData.properties[strCirclesValue]) {
                oDataGrid.addRow(oData.properties[strCirclesValue][kRow]);
            }

            oDataGrid.createDataTable("queueList");
        }

        elLoadButton.addEventListener("click", function () {
            console.log('EVENT: elLoadButton.addEventListener()');

            // Clear elDataList <DIV>
            elDataTable.innerHTML = "";

            loadData();
        });                     
        </script>
    </body>
</html>
